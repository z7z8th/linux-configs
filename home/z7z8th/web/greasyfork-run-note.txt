gunzip -c greasyfork-db.sql.gz | mysql -ugreasyfork -p greasyfork

MariaDB [greasyfork]> SELECT  `scripts`.* FROM `scripts` WHERE `scripts`.`id` = 37974 LIMIT 1
+-------+---------+---------------------+---------------------+----------------+----------------+----------------+---------------------+----------------+---------------------+-----------------------+-----------------+------------+--------------------------+---------------------------+-------+--------------+------------+-----------------------+--------+-------------------------------------------------+-----------+-----------+-----------+---------------+------------------+---------------------+-------------------------------------+--------------+------------+-------------+-----------+-----------------------+---------+------------------------+-----------+------------------------------------+---------------------------------+----------+
| id    | user_id | created_at          | updated_at          | userscripts_id | daily_installs | total_installs | code_updated_at     | script_type_id | script_sync_type_id | script_sync_source_id | sync_identifier | sync_error | last_attempted_sync_date | last_successful_sync_date | delta | license_text | license_id | script_delete_type_id | locked | support_url                                     | locale_id | fan_score | namespace | delete_reason | contribution_url | contribution_amount | default_name                        | good_ratings | ok_ratings | bad_ratings | ad_method | replaced_by_script_id | version | approve_redistribution | sensitive | not_adult_content_self_report_date | permanent_deletion_request_date | promoted |
+-------+---------+---------------------+---------------------+----------------+----------------+----------------+---------------------+----------------+---------------------+-----------------------+-----------------+------------+--------------------------+---------------------------+-------+--------------+------------+-----------------------+--------+-------------------------------------------------+-----------+-----------+-----------+---------------+------------------+---------------------+-------------------------------------+--------------+------------+-------------+-----------+-----------------------+---------+------------------------+-----------+------------------------------------+---------------------------------+----------+
| 37974 |  165635 | 2018-01-30 07:35:24 | 2018-02-05 08:58:21 |           NULL |              8 |            161 | 2018-02-05 08:58:21 |              1 |                NULL |                  NULL | NULL            | NULL       | NULL                     | NULL                      |     1 | NULL         |       NULL |                  NULL |      0 | https://github.com/strongop/user-scripts/issues |       187 |      34.2 | ATGT      | NULL          | NULL             | NULL                | 12306 bring me on the train to home |            2 |          0 |           0 | NULL      |                  NULL | 1.9     |                   NULL |         0 | NULL                               | NULL                            |        0 |
+-------+---------+---------------------+---------------------+----------------+----------------+----------------+---------------------+----------------+---------------------+-----------------------+-----------------+------------+--------------------------+---------------------------+-------+--------------+------------+-----------------------+--------+-------------------------------------------------+-----------+-----------+-----------+---------------+------------------+---------------------+-------------------------------------+--------------+------------+-------------+-----------+-----------------------+---------+------------------------+-----------+------------------------------------+---------------------------------+----------+
1 row in set (0.00 sec)


MariaDB [greasyfork]> SELECT `users`.* FROM `users` WHERE `users`.`id` = 165635;
+--------+-------------------------------+--------------------+----------------------+------------------------+---------------------+---------------+--------------------+-----------------+--------------------+-----------------+------------+------------+----------+--------------+----------------+--------+----------------+-----------------------------------+----------------+-----------+----------+------------------+-----------------+------------------------+----------------+-------------------------+----------------------------+
| id     | email                         | encrypted_password | reset_password_token | reset_password_sent_at | remember_created_at | sign_in_count | current_sign_in_at | last_sign_in_at | current_sign_in_ip | last_sign_in_ip | created_at | updated_at | name     | profile      | profile_markup | banned | webhook_secret | author_email_notification_type_id | remember_token | locale_id | show_ads | preferred_markup | flattr_username | approve_redistribution | show_sensitive | delete_confirmation_key | delete_confirmation_expiry |
+--------+-------------------------------+--------------------+----------------------+------------------------+---------------------+---------------+--------------------+-----------------+--------------------+-----------------+------------+------------+----------+--------------+----------------+--------+----------------+-----------------------------------+----------------+-----------+----------+------------------+-----------------+------------------------+----------------+-------------------------+----------------------------+
| 165635 | user165635@greasyfork.invalid |                    | NULL                 | NULL                   | NULL                |             0 | NULL               | NULL            | NULL               | NULL            | NULL       | NULL       | StrongOp | Move Forward | html           |      0 | NULL           |                                 1 | NULL           |      NULL |        1 | html             | NULL            |                   NULL |              0 | NULL                    | NULL                       |
+--------+-------------------------------+--------------------+----------------------+------------------------+---------------------+---------------+--------------------+-----------------+--------------------+-----------------+------------+------------+----------+--------------+----------------+--------+----------------+-----------------------------------+----------------+-----------+----------+------------------+-----------------+------------------------+----------------+-------------------------+----------------------------+
1 row in set (0.00 sec)


MariaDB [greasyfork]> SELECT `localized_script_attributes`.* FROM `localized_script_attributes` WHERE `localized_script_attributes`.`script_id` = 37974;
+--------+-----------+-----------+-----------------+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------+-----------------+----------------+
| id     | script_id | locale_id | attribute_key   | value_markup | attribute_value                                                                                                                                                                                                                                                                                                                                                                                                                         | attribute_default | sync_identifier | sync_source_id |
+--------+-----------+-----------+-----------------+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------+-----------------+----------------+
| 246729 |     37974 |       187 | name            | text         | 12306带我坐火车回家                                                                                                                                                                                                                                                                                                                                                                                                                     |                 0 | NULL            |           NULL |
| 246731 |     37974 |       187 | description     | text         | 12306 带我坐火车回家                                                                                                                                                                                                                                                                                                                                                                                                                    |                 0 | NULL            |           NULL |
| 246732 |     37974 |       187 | additional_info | markdown     | 12306 带我回家
功能：
    * 记住所有选项，刷新页面后自动恢复，如果出现登录界面，请登录后重新刷新
    * 增加“自定义发车时间”功能
    * 自动查询因为超时停止后，自动重新开始
    * 自动选择 “显示全部可预订车次”
    * 默认发车时间改为 07:00-19:00
    * 兼容GreaseMonkey & TamperMonkey on Firefox，TamperMonkey on Chrome                                                                                                       |                 1 | NULL            |           NULL |
| 246733 |     37974 |       187 | name            | text         | 12306 bring me on the train to home                                                                                                                                                                                                                                                                                                                                                                                                     |                 1 | NULL            |           NULL |
| 246734 |     37974 |       187 | description     | text         | Please bring me home.                                                                                                                                                                                                                                                                                                                                                                                                                   |                 1 | NULL            |           NULL |
+--------+-----------+-----------+-----------------+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------+-----------------+----------------+
5 rows in set (0.00 sec)

MariaDB [greasyfork]> SELECT `locales`.* FROM `locales` WHERE `locales`.`id` = 187;
+-----+-------+-----+----------------------+---------------------+--------------+--------------+------------------+
| id  | code  | rtl | detect_language_code | english_name        | native_name  | ui_available | percent_complete |
+-----+-------+-----+----------------------+---------------------+--------------+--------------+------------------+
| 187 | zh-CN |   0 | zh                   | Chinese, Simplified | 简体中文     |            1 |              100 |
+-----+-------+-----+----------------------+---------------------+--------------+--------------+------------------+
1 row in set (0.00 sec)

SELECT text, SUM(daily_installs) install_count, COUNT(s.id) script_count
FROM script_applies_tos
JOIN scripts s ON script_id = s.id
JOIN site_applications on site_applications.id = site_application_id
WHERE
	domain
	AND script_type_id = 1
	AND script_delete_type_id IS NULL
	AND !tld_extra
	AND `sensitive` = false
GROUP BY text
ORDER BY text;
Empty set (0.00 sec)

MariaDB [greasyfork]> select * from site_applications;
Empty set (0.00 sec)


SELECT sum(daily_installs) install_count, count(distinct scripts.id) script_count
FROM scripts
WHERE
	script_type_id = 1
	AND script_delete_type_id is null
	AND NOT EXISTS (SELECT * FROM script_applies_tos WHERE script_id = scripts.id)
;
+---------------+--------------+
| install_count | script_count |
+---------------+--------------+
|          1432 |          386 |
+---------------+--------------+
1 row in set (0.03 sec)


MariaDB [greasyfork]> SELECT `scripts`.* FROM `scripts` WHERE `scripts`.`promoted` = 1;
Empty set (0.02 sec)

MariaDB [greasyfork]> SELECT  1 AS one FROM `script_applies_tos` WHERE `script_applies_tos`.`script_id` = 37974 LIMIT 1
    -> ;
+-----+
| one |
+-----+
|   1 |
+-----+
1 row in set (0.00 sec)

MariaDB [greasyfork]> SELECT `script_applies_tos`.* FROM `script_applies_tos` WHERE `script_applies_tos`.`script_id` = 37974;
+--------+-----------+---------------------+-----------+
| id     | script_id | site_application_id | tld_extra |
+--------+-----------+---------------------+-----------+
| 585446 |     37974 |               11244 |         0 |
+--------+-----------+---------------------+-----------+
1 row in set (0.00 sec)



MariaDB [greasyfork]> SELECT  `site_applications`.* FROM `site_applications` WHERE `site_applications`.`id` = 11244 LIMIT 1;
Empty set (0.00 sec)




